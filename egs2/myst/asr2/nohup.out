2024-10-12T23:26:52 (asr2.sh:288:main) ./asr2.sh --stage 13 --stop_stage 13 --kmeans_opts --batch_bins 600000 --nj 4 --kmeans_feature wavlm_large/21 --nclusters 2000 --ngpu 1 --src_lang wavlm_large_21_km2000 --tgt_lang en --src_token_type bpe --src_nbpe 6000 --tgt_token_type bpe --tgt_nbpe 5000 --src_case rm --tgt_case ts --speed_perturb_factors 0.9 1.0 1.1 --use_lm false --asr_config conf/train_discrete_asr_e_branchformer1_noctc_1gpu.yaml --inference_config conf/decode_ctc0.3.yaml --train_set train_clean_100 --valid_set dev --test_sets test_clean test_other dev_clean dev_other --src_bpe_train_text dump/raw/train_clean_100_sp/text.rm.wavlm_large_21_km2000 --tgt_bpe_train_text dump/raw/train_clean_100_sp/text.ts.en --lm_train_text dump/raw/train_clean_100_sp/text.ts.en
2024-10-12T23:26:52 (asr2.sh:625:main) Skipped stages:  8 9 10 11 16 17 
2024-10-12T23:26:52 (asr2.sh:1420:main) Stage 13: ASR Training: train_set=dump/raw/train_clean_100_sp, valid_set=dump/raw/dev
2024-10-12T23:26:52 (asr2.sh:1463:main) Generate 'exp/asr_train_discrete_asr_e_branchformer1_noctc_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000_sp/run.sh'. You can resume the process from stage 13 using this script
2024-10-12T23:26:52 (asr2.sh:1467:main) ASR training started... log: 'exp/asr_train_discrete_asr_e_branchformer1_noctc_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000_sp/train.log'
2024-10-12 23:26:52,590 (launch:94) INFO: /data/mohan/anaconda3/envs/espnet/bin/python3 /data/mohan/workdir/espnet/espnet2/bin/launch.py --cmd 'run.pl --name exp/asr_train_discrete_asr_e_branchformer1_noctc_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000_sp/train.log' --log exp/asr_train_discrete_asr_e_branchformer1_noctc_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000_sp/train.log --ngpu 1 --num_nodes 1 --init_file_prefix exp/asr_train_discrete_asr_e_branchformer1_noctc_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000_sp/.dimt_init_ --multiprocessing_distributed true -- python3 -m espnet2.bin.mt_train --use_preprocessor true --bpemodel data/token_list/tgt_bpe_unigram5000_ts_en/bpe.model --token_type bpe --token_list data/token_list/tgt_bpe_unigram5000_ts_en/tokens.txt --src_bpemodel data/token_list/src_bpe_unigram6000_rm_wavlm_large_21_km2000/bpe.model --src_token_type bpe --src_token_list data/token_list/src_bpe_unigram6000_rm_wavlm_large_21_km2000/tokens.txt --non_linguistic_symbols none --cleaner none --g2p none --valid_data_path_and_name_and_type dump/raw/dev/text.ts.en,text,text --valid_data_path_and_name_and_type dump/raw/dev/text.rm.wavlm_large_21_km2000,src_text,text --valid_shape_file exp/asr_stats_raw_rm_wavlm_large_21_km2000_bpe6000_bpe5000_sp/valid/text_shape.bpe --valid_shape_file exp/asr_stats_raw_rm_wavlm_large_21_km2000_bpe6000_bpe5000_sp/valid/src_text_shape.bpe --resume true --ignore_init_mismatch false --fold_length 150 --fold_length 150 --output_dir exp/asr_train_discrete_asr_e_branchformer1_noctc_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000_sp --config conf/train_discrete_asr_e_branchformer1_noctc_1gpu.yaml --train_data_path_and_name_and_type dump/raw/train_clean_100_sp/text.rm.wavlm_large_21_km2000,src_text,text --train_data_path_and_name_and_type dump/raw/train_clean_100_sp/text.ts.en,text,text --train_shape_file exp/asr_stats_raw_rm_wavlm_large_21_km2000_bpe6000_bpe5000_sp/train/src_text_shape.bpe --train_shape_file exp/asr_stats_raw_rm_wavlm_large_21_km2000_bpe6000_bpe5000_sp/train/text_shape.bpe
2024-10-12 23:26:52,606 (launch:348) INFO: log file: exp/asr_train_discrete_asr_e_branchformer1_noctc_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000_sp/train.log
Traceback (most recent call last):
  File "/data/mohan/anaconda3/envs/espnet/lib/python3.10/runpy.py", line 196, in _run_module_as_main
    return _run_code(code, main_globals, None,
  File "/data/mohan/anaconda3/envs/espnet/lib/python3.10/runpy.py", line 86, in _run_code
    exec(code, run_globals)
  File "/data/mohan/workdir/espnet/espnet2/bin/launch.py", line 384, in <module>
    main()
  File "/data/mohan/workdir/espnet/espnet2/bin/launch.py", line 358, in main
    process.wait(0.5)
  File "/data/mohan/anaconda3/envs/espnet/lib/python3.10/subprocess.py", line 1209, in wait
    return self._wait(timeout=timeout)
  File "/data/mohan/anaconda3/envs/espnet/lib/python3.10/subprocess.py", line 1953, in _wait
    time.sleep(delay)
KeyboardInterrupt
2024-10-12T23:27:08 (asr2.sh:288:main) ./asr2.sh --stage 13 --stop_stage 13 --kmeans_opts --batch_bins 600000 --nj 4 --kmeans_feature wavlm_large/21 --nclusters 2000 --ngpu 1 --src_lang wavlm_large_21_km2000 --tgt_lang en --src_token_type bpe --src_nbpe 6000 --tgt_token_type bpe --tgt_nbpe 5000 --src_case rm --tgt_case ts --speed_perturb_factors 0.9 1.0 1.1 --use_lm false --asr_config conf/train_discrete_asr_e_branchformer1_noctc_1gpu.yaml --inference_config conf/decode_ctc0.3.yaml --train_set train_clean_100 --valid_set dev --test_sets test_clean test_other dev_clean dev_other --src_bpe_train_text dump/raw/train_clean_100_sp/text.rm.wavlm_large_21_km2000 --tgt_bpe_train_text dump/raw/train_clean_100_sp/text.ts.en --lm_train_text dump/raw/train_clean_100_sp/text.ts.en
2024-10-12T23:27:08 (asr2.sh:625:main) Skipped stages:  8 9 10 11 16 17 
2024-10-12T23:27:08 (asr2.sh:1420:main) Stage 13: ASR Training: train_set=dump/raw/train_clean_100_sp, valid_set=dump/raw/dev
2024-10-12T23:27:08 (asr2.sh:1463:main) Generate 'exp/asr_train_discrete_asr_e_branchformer1_noctc_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000_sp/run.sh'. You can resume the process from stage 13 using this script
2024-10-12T23:27:08 (asr2.sh:1467:main) ASR training started... log: 'exp/asr_train_discrete_asr_e_branchformer1_noctc_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000_sp/train.log'
2024-10-12 23:27:08,888 (launch:94) INFO: /data/mohan/anaconda3/envs/espnet/bin/python3 /data/mohan/workdir/espnet/espnet2/bin/launch.py --cmd 'run.pl --name exp/asr_train_discrete_asr_e_branchformer1_noctc_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000_sp/train.log' --log exp/asr_train_discrete_asr_e_branchformer1_noctc_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000_sp/train.log --ngpu 1 --num_nodes 1 --init_file_prefix exp/asr_train_discrete_asr_e_branchformer1_noctc_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000_sp/.dimt_init_ --multiprocessing_distributed true -- python3 -m espnet2.bin.mt_train --use_preprocessor true --bpemodel data/token_list/tgt_bpe_unigram5000_ts_en/bpe.model --token_type bpe --token_list data/token_list/tgt_bpe_unigram5000_ts_en/tokens.txt --src_bpemodel data/token_list/src_bpe_unigram6000_rm_wavlm_large_21_km2000/bpe.model --src_token_type bpe --src_token_list data/token_list/src_bpe_unigram6000_rm_wavlm_large_21_km2000/tokens.txt --non_linguistic_symbols none --cleaner none --g2p none --valid_data_path_and_name_and_type dump/raw/dev/text.ts.en,text,text --valid_data_path_and_name_and_type dump/raw/dev/text.rm.wavlm_large_21_km2000,src_text,text --valid_shape_file exp/asr_stats_raw_rm_wavlm_large_21_km2000_bpe6000_bpe5000_sp/valid/text_shape.bpe --valid_shape_file exp/asr_stats_raw_rm_wavlm_large_21_km2000_bpe6000_bpe5000_sp/valid/src_text_shape.bpe --resume true --ignore_init_mismatch false --fold_length 150 --fold_length 150 --output_dir exp/asr_train_discrete_asr_e_branchformer1_noctc_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000_sp --config conf/train_discrete_asr_e_branchformer1_noctc_1gpu.yaml --train_data_path_and_name_and_type dump/raw/train_clean_100_sp/text.rm.wavlm_large_21_km2000,src_text,text --train_data_path_and_name_and_type dump/raw/train_clean_100_sp/text.ts.en,text,text --train_shape_file exp/asr_stats_raw_rm_wavlm_large_21_km2000_bpe6000_bpe5000_sp/train/src_text_shape.bpe --train_shape_file exp/asr_stats_raw_rm_wavlm_large_21_km2000_bpe6000_bpe5000_sp/train/text_shape.bpe
2024-10-12 23:27:08,902 (launch:348) INFO: log file: exp/asr_train_discrete_asr_e_branchformer1_noctc_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000_sp/train.log
2024-10-13T07:04:40 (asr2.sh:1782:main) Successfully finished. [elapsed=27452s]
2024-10-13T13:31:47 (asr2.sh:288:main) ./asr2.sh --stage 14 --stop_stage 14 --kmeans_opts --batch_bins 600000 --nj 4 --kmeans_feature wavlm_large/21 --nclusters 2000 --ngpu 1 --src_lang wavlm_large_21_km2000 --tgt_lang en --src_token_type bpe --src_nbpe 6000 --tgt_token_type bpe --tgt_nbpe 5000 --src_case rm --tgt_case ts --speed_perturb_factors 0.9 1.0 1.1 --use_lm false --asr_config conf/train_discrete_asr_e_branchformer1_noctc_1gpu.yaml --inference_config conf/decode_ctc0.0.yaml --train_set train_clean_100 --valid_set dev --test_sets test_clean test_other dev_clean dev_other --src_bpe_train_text dump/raw/train_clean_100_sp/text.rm.wavlm_large_21_km2000 --tgt_bpe_train_text dump/raw/train_clean_100_sp/text.ts.en --lm_train_text dump/raw/train_clean_100_sp/text.ts.en
2024-10-13T13:31:47 (asr2.sh:625:main) Skipped stages:  8 9 10 11 16 17 
2024-10-13T13:31:47 (asr2.sh:1542:main) Stage 14: Decoding: training_dir=exp/asr_train_discrete_asr_e_branchformer1_noctc_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000_sp
2024-10-13T13:31:47 (asr2.sh:1570:main) Generate 'exp/asr_train_discrete_asr_e_branchformer1_noctc_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000_sp/decode_ctc0.0_asr_model_valid.acc.ave/run.sh'. You can resume the process from stage 14 using this script
2024-10-13T13:31:47 (asr2.sh:1599:main) Decoding started... log: 'exp/asr_train_discrete_asr_e_branchformer1_noctc_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000_sp/decode_ctc0.0_asr_model_valid.acc.ave/test_clean/logdir/asr_inference.*.log'
2024-10-13T14:04:26 (asr2.sh:1599:main) Decoding started... log: 'exp/asr_train_discrete_asr_e_branchformer1_noctc_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000_sp/decode_ctc0.0_asr_model_valid.acc.ave/test_other/logdir/asr_inference.*.log'
2024-10-13T14:35:57 (asr2.sh:1599:main) Decoding started... log: 'exp/asr_train_discrete_asr_e_branchformer1_noctc_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000_sp/decode_ctc0.0_asr_model_valid.acc.ave/dev_clean/logdir/asr_inference.*.log'
2024-10-13T15:16:15 (asr2.sh:1599:main) Decoding started... log: 'exp/asr_train_discrete_asr_e_branchformer1_noctc_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000_sp/decode_ctc0.0_asr_model_valid.acc.ave/dev_other/logdir/asr_inference.*.log'
2024-10-13T16:09:44 (asr2.sh:1782:main) Successfully finished. [elapsed=9477s]
2024-10-17T04:39:59 (asr2.sh:288:main) ./asr2.sh --stage 13 --stop_stage 13 --gpu_kmeans true --kmeans_opts --batch_bins 400000 --nj 4 --kmeans_feature wavlm_large/21 --nclusters 2000 --ngpu 1 --src_lang wavlm_large_21_km2000 --tgt_lang en --src_token_type bpe --src_nbpe 6000 --tgt_token_type bpe --tgt_nbpe 5000 --src_case rm --tgt_case ts --use_lm false --asr_config conf/train_discrete_asr_e_branchformer1_1gpu.yaml --inference_config conf/decode_ctc0.3.yaml --train_set train --valid_set dev --test_sets test --src_bpe_train_text dump/raw/train/text.rm.wavlm_large_21_km2000 --tgt_bpe_train_text dump/raw/train/text.ts.en --lm_train_text dump/raw/train/text.ts.en
2024-10-17T04:40:00 (asr2.sh:625:main) Skipped stages:  8 9 10 11 16 17 
2024-10-17T04:40:00 (asr2.sh:1420:main) Stage 13: ASR Training: train_set=dump/raw/train, valid_set=dump/raw/dev
2024-10-17T04:40:00 (asr2.sh:1463:main) Generate 'exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000/run.sh'. You can resume the process from stage 13 using this script
2024-10-17T04:40:00 (asr2.sh:1467:main) ASR training started... log: 'exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000/train.log'
2024-10-17 04:40:00,171 (launch:94) INFO: /data/mohan/anaconda3/envs/espnet/bin/python3 /data/mohan/workdir/espnet/espnet2/bin/launch.py --cmd 'run.pl --name exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000/train.log' --log exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000/train.log --ngpu 1 --num_nodes 1 --init_file_prefix exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000/.dimt_init_ --multiprocessing_distributed true -- python3 -m espnet2.bin.mt_train --use_preprocessor true --bpemodel data/token_list/tgt_bpe_unigram5000_ts_en/bpe.model --token_type bpe --token_list data/token_list/tgt_bpe_unigram5000_ts_en/tokens.txt --src_bpemodel data/token_list/src_bpe_unigram6000_rm_wavlm_large_21_km2000/bpe.model --src_token_type bpe --src_token_list data/token_list/src_bpe_unigram6000_rm_wavlm_large_21_km2000/tokens.txt --non_linguistic_symbols none --cleaner none --g2p none --valid_data_path_and_name_and_type dump/raw/dev/text.ts.en,text,text --valid_data_path_and_name_and_type dump/raw/dev/text.rm.wavlm_large_21_km2000,src_text,text --valid_shape_file exp/asr_stats_raw_rm_wavlm_large_21_km2000_bpe6000_bpe5000/valid/text_shape.bpe --valid_shape_file exp/asr_stats_raw_rm_wavlm_large_21_km2000_bpe6000_bpe5000/valid/src_text_shape.bpe --resume true --ignore_init_mismatch false --fold_length 150 --fold_length 150 --output_dir exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000 --config conf/train_discrete_asr_e_branchformer1_1gpu.yaml --train_data_path_and_name_and_type dump/raw/train/text.rm.wavlm_large_21_km2000,src_text,text --train_data_path_and_name_and_type dump/raw/train/text.ts.en,text,text --train_shape_file exp/asr_stats_raw_rm_wavlm_large_21_km2000_bpe6000_bpe5000/train/src_text_shape.bpe --train_shape_file exp/asr_stats_raw_rm_wavlm_large_21_km2000_bpe6000_bpe5000/train/text_shape.bpe
2024-10-17 04:40:00,188 (launch:348) INFO: log file: exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000/train.log
2024-10-17T09:38:06 (asr2.sh:1782:main) Successfully finished. [elapsed=17887s]
2024-10-17T12:20:34 (asr2.sh:288:main) ./asr2.sh --stage 14 --stop_stage 14 --gpu_kmeans true --kmeans_opts --batch_bins 400000 --nj 4 --kmeans_feature wavlm_large/21 --nclusters 2000 --ngpu 1 --src_lang wavlm_large_21_km2000 --tgt_lang en --src_token_type bpe --src_nbpe 6000 --tgt_token_type bpe --tgt_nbpe 5000 --src_case rm --tgt_case ts --use_lm false --asr_config conf/train_discrete_asr_e_branchformer1_1gpu.yaml --inference_config conf/decode_ctc0.3.yaml --train_set train --valid_set dev --test_sets test --src_bpe_train_text dump/raw/train/text.rm.wavlm_large_21_km2000 --tgt_bpe_train_text dump/raw/train/text.ts.en --lm_train_text dump/raw/train/text.ts.en
2024-10-17T12:20:34 (asr2.sh:625:main) Skipped stages:  8 9 10 11 16 17 
2024-10-17T12:20:34 (asr2.sh:1542:main) Stage 14: Decoding: training_dir=exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000
2024-10-17T12:20:34 (asr2.sh:1570:main) Generate 'exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000/decode_ctc0.3_asr_model_valid.acc.ave/run.sh'. You can resume the process from stage 14 using this script
2024-10-17T12:20:34 (asr2.sh:1599:main) Decoding started... log: 'exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000/decode_ctc0.3_asr_model_valid.acc.ave/test/logdir/asr_inference.*.log'
2024-10-17T12:23:11 (asr2.sh:288:main) ./asr2.sh --stage 14 --stop_stage 14 --gpu_kmeans true --kmeans_opts --batch_bins 400000 --nj 4 --kmeans_feature wavlm_large/21 --nclusters 2000 --ngpu 1 --src_lang wavlm_large_21_km2000 --tgt_lang en --src_token_type bpe --src_nbpe 6000 --tgt_token_type bpe --tgt_nbpe 5000 --src_case rm --tgt_case ts --use_lm false --asr_config conf/train_discrete_asr_e_branchformer1_1gpu.yaml --inference_config conf/decode_ctc0.3.yaml --train_set train --valid_set dev --test_sets dev --src_bpe_train_text dump/raw/train/text.rm.wavlm_large_21_km2000 --tgt_bpe_train_text dump/raw/train/text.ts.en --lm_train_text dump/raw/train/text.ts.en
2024-10-17T12:23:11 (asr2.sh:326:main) Info: The valid_set 'dev' is included in the test_sets. '--eval_valid_set true' is set and 'dev' is removed from the test_sets
2024-10-17T12:23:11 (asr2.sh:625:main) Skipped stages:  8 9 10 11 16 17 
2024-10-17T12:23:11 (asr2.sh:1542:main) Stage 14: Decoding: training_dir=exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000
2024-10-17T12:23:11 (asr2.sh:1570:main) Generate 'exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000/decode_ctc0.3_asr_model_valid.acc.ave/run.sh'. You can resume the process from stage 14 using this script
./asr2.sh: line 1589: dump/raw/org/dev/text.rm.wavlm_large_21_km2000: No such file or directory
./asr2.sh: line 17: [: : integer expression expected
utils/split_scp.pl: Error opening input scp file dump/raw/org/dev/text.rm.wavlm_large_21_km2000: No such file or directory
2024-10-17T12:26:10 (asr2.sh:288:main) ./asr2.sh --stage 14 --stop_stage 14 --gpu_kmeans true --kmeans_opts --batch_bins 400000 --nj 4 --kmeans_feature wavlm_large/21 --nclusters 2000 --ngpu 1 --src_lang wavlm_large_21_km2000 --tgt_lang en --src_token_type bpe --src_nbpe 6000 --tgt_token_type bpe --tgt_nbpe 5000 --src_case rm --tgt_case ts --use_lm false --asr_config conf/train_discrete_asr_e_branchformer1_1gpu.yaml --inference_config conf/decode_ctc0.3.yaml --train_set train --valid_set dev --test_sets dev --src_bpe_train_text dump/raw/train/text.rm.wavlm_large_21_km2000 --tgt_bpe_train_text dump/raw/train/text.ts.en --lm_train_text dump/raw/train/text.ts.en
2024-10-17T12:26:11 (asr2.sh:326:main) Info: The valid_set 'dev' is included in the test_sets. '--eval_valid_set true' is set and 'dev' is removed from the test_sets
2024-10-17T12:26:11 (asr2.sh:625:main) Skipped stages:  8 9 10 11 16 17 
2024-10-17T12:26:11 (asr2.sh:1542:main) Stage 14: Decoding: training_dir=exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000
2024-10-17T12:26:11 (asr2.sh:1570:main) Generate 'exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000/decode_ctc0.3_asr_model_valid.acc.ave/run.sh'. You can resume the process from stage 14 using this script
./asr2.sh: line 1578: _dsets: unbound variable
2024-10-17T12:27:13 (asr2.sh:288:main) ./asr2.sh --stage 14 --stop_stage 14 --gpu_kmeans true --kmeans_opts --batch_bins 400000 --nj 4 --kmeans_feature wavlm_large/21 --nclusters 2000 --ngpu 1 --src_lang wavlm_large_21_km2000 --tgt_lang en --src_token_type bpe --src_nbpe 6000 --tgt_token_type bpe --tgt_nbpe 5000 --src_case rm --tgt_case ts --use_lm false --asr_config conf/train_discrete_asr_e_branchformer1_1gpu.yaml --inference_config conf/decode_ctc0.3.yaml --train_set train --valid_set dev --test_sets dev --src_bpe_train_text dump/raw/train/text.rm.wavlm_large_21_km2000 --tgt_bpe_train_text dump/raw/train/text.ts.en --lm_train_text dump/raw/train/text.ts.en
2024-10-17T12:27:13 (asr2.sh:326:main) Info: The valid_set 'dev' is included in the test_sets. '--eval_valid_set true' is set and 'dev' is removed from the test_sets
2024-10-17T12:27:14 (asr2.sh:625:main) Skipped stages:  8 9 10 11 16 17 
2024-10-17T12:27:14 (asr2.sh:1542:main) Stage 14: Decoding: training_dir=exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000
2024-10-17T12:27:14 (asr2.sh:1570:main) Generate 'exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000/decode_ctc0.3_asr_model_valid.acc.ave/run.sh'. You can resume the process from stage 14 using this script
2024-10-17T12:27:14 (asr2.sh:1786:main) Successfully finished. [elapsed=1s]
2024-10-17T12:32:47 (asr2.sh:288:main) ./asr2.sh --stage 14 --stop_stage 14 --gpu_kmeans true --kmeans_opts --batch_bins 400000 --nj 4 --kmeans_feature wavlm_large/21 --nclusters 2000 --ngpu 1 --src_lang wavlm_large_21_km2000 --tgt_lang en --src_token_type bpe --src_nbpe 6000 --tgt_token_type bpe --tgt_nbpe 5000 --src_case rm --tgt_case ts --use_lm false --asr_config conf/train_discrete_asr_e_branchformer1_1gpu.yaml --inference_config conf/decode_ctc0.3.yaml --train_set train --valid_set dev --test_sets dev --src_bpe_train_text dump/raw/train/text.rm.wavlm_large_21_km2000 --tgt_bpe_train_text dump/raw/train/text.ts.en --lm_train_text dump/raw/train/text.ts.en
2024-10-17T12:32:47 (asr2.sh:326:main) Info: The valid_set 'dev' is included in the test_sets. '--eval_valid_set true' is set and 'dev' is removed from the test_sets
2024-10-17T12:32:47 (asr2.sh:625:main) Skipped stages:  8 9 10 11 16 17 
2024-10-17T12:32:47 (asr2.sh:1542:main) Stage 14: Decoding: training_dir=exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000
2024-10-17T12:32:47 (asr2.sh:1570:main) Generate 'exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000/decode_ctc0.3_asr_model_valid.acc.ave/run.sh'. You can resume the process from stage 14 using this script
2024-10-17T12:32:47 (asr2.sh:1786:main) Successfully finished. [elapsed=0s]
2024-10-17T12:36:27 (asr2.sh:288:main) ./asr2.sh --stage 14 --stop_stage 14 --gpu_kmeans true --kmeans_opts --batch_bins 400000 --nj 4 --kmeans_feature wavlm_large/21 --nclusters 2000 --ngpu 1 --src_lang wavlm_large_21_km2000 --tgt_lang en --src_token_type bpe --src_nbpe 6000 --tgt_token_type bpe --tgt_nbpe 5000 --src_case rm --tgt_case ts --use_lm false --asr_config conf/train_discrete_asr_e_branchformer1_1gpu.yaml --inference_config conf/decode_ctc0.3.yaml --train_set train --valid_set dev --test_sets dev --src_bpe_train_text dump/raw/train/text.rm.wavlm_large_21_km2000 --tgt_bpe_train_text dump/raw/train/text.ts.en --lm_train_text dump/raw/train/text.ts.en
2024-10-17T12:36:27 (asr2.sh:326:main) Info: The valid_set 'dev' is included in the test_sets. '--eval_valid_set true' is set and 'dev' is removed from the test_sets
2024-10-17T12:36:27 (asr2.sh:625:main) Skipped stages:  8 9 10 11 16 17 
2024-10-17T12:36:27 (asr2.sh:1542:main) Stage 14: Decoding: training_dir=exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000
2024-10-17T12:36:27 (asr2.sh:1570:main) Generate 'exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000/decode_ctc0.3_asr_model_valid.acc.ave/run.sh'. You can resume the process from stage 14 using this script
2024-10-17T12:36:27 (asr2.sh:1786:main) Successfully finished. [elapsed=0s]
2024-10-17T17:33:30 (asr2.sh:288:main) ./asr2.sh --stage 14 --stop_stage 14 --gpu_kmeans true --kmeans_opts --batch_bins 400000 --nj 4 --kmeans_feature wavlm_large/21 --nclusters 2000 --ngpu 1 --src_lang wavlm_large_21_km2000 --tgt_lang en --src_token_type bpe --src_nbpe 6000 --tgt_token_type bpe --tgt_nbpe 5000 --src_case rm --tgt_case ts --use_lm false --asr_config conf/train_discrete_asr_e_branchformer1_1gpu.yaml --inference_config conf/decode_ctc0.3.yaml --train_set train --valid_set dev --test_sets dev test --src_bpe_train_text dump/raw/train/text.rm.wavlm_large_21_km2000 --tgt_bpe_train_text dump/raw/train/text.ts.en --lm_train_text dump/raw/train/text.ts.en
2024-10-17T17:33:30 (asr2.sh:326:main) Info: The valid_set 'dev' is included in the test_sets. '--eval_valid_set true' is set and 'dev' is removed from the test_sets
2024-10-17T17:33:30 (asr2.sh:625:main) Skipped stages:  8 9 10 11 16 17 
2024-10-17T17:33:30 (asr2.sh:1542:main) Stage 14: Decoding: training_dir=exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000
2024-10-17T17:33:30 (asr2.sh:1570:main) Generate 'exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000/decode_ctc0.3_asr_model_valid.acc.ave/run.sh'. You can resume the process from stage 14 using this script
2024-10-17T17:33:30 (asr2.sh:1601:main) Decoding started... log: 'exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000/decode_ctc0.3_asr_model_valid.acc.ave/test/logdir/asr_inference.*.log'
2024-10-17T18:19:10 (asr2.sh:288:main) ./asr2.sh --stage 14 --stop_stage 14 --gpu_kmeans true --kmeans_opts --batch_bins 400000 --nj 4 --kmeans_feature wavlm_large/21 --nclusters 2000 --ngpu 1 --src_lang wavlm_large_21_km2000 --tgt_lang en --src_token_type bpe --src_nbpe 6000 --tgt_token_type bpe --tgt_nbpe 5000 --src_case rm --tgt_case ts --use_lm false --asr_config conf/train_discrete_asr_e_branchformer1_1gpu.yaml --inference_config conf/decode_ctc0.3.yaml --train_set train --valid_set dev --test_sets dev test --src_bpe_train_text dump/raw/train/text.rm.wavlm_large_21_km2000 --tgt_bpe_train_text dump/raw/train/text.ts.en --lm_train_text dump/raw/train/text.ts.en
2024-10-17T18:19:10 (asr2.sh:625:main) Skipped stages:  8 9 10 11 16 17 
2024-10-17T18:19:10 (asr2.sh:1542:main) Stage 14: Decoding: training_dir=exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000
2024-10-17T18:19:10 (asr2.sh:1570:main) Generate 'exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000/decode_ctc0.3_asr_model_valid.acc.ave/run.sh'. You can resume the process from stage 14 using this script
2024-10-17T18:19:10 (asr2.sh:1601:main) Decoding started... log: 'exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000/decode_ctc0.3_asr_model_valid.acc.ave/dev/logdir/asr_inference.*.log'
2024-10-17T21:21:11 (asr2.sh:1601:main) Decoding started... log: 'exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000/decode_ctc0.3_asr_model_valid.acc.ave/test/logdir/asr_inference.*.log'
bash: line 1: 667598 Killed                  ( python3 -m espnet2.bin.mt_inference --batch_size 1 --ngpu 0 --data_path_and_name_and_type dump/raw/test/text.rm.wavlm_large_21_km2000,src_text,text --key_file exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000/decode_ctc0.3_asr_model_valid.acc.ave/test/logdir/keys.6.scp --mt_train_config exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000/config.yaml --mt_model_file exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000/valid.acc.ave.pth --output_dir exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000/decode_ctc0.3_asr_model_valid.acc.ave/test/logdir/output.6 --config conf/decode_ctc0.3.yaml ) 2>> exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000/decode_ctc0.3_asr_model_valid.acc.ave/test/logdir/asr_inference.6.log >> exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000/decode_ctc0.3_asr_model_valid.acc.ave/test/logdir/asr_inference.6.log
bash: line 1: 667593 Killed                  ( python3 -m espnet2.bin.mt_inference --batch_size 1 --ngpu 0 --data_path_and_name_and_type dump/raw/test/text.rm.wavlm_large_21_km2000,src_text,text --key_file exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000/decode_ctc0.3_asr_model_valid.acc.ave/test/logdir/keys.2.scp --mt_train_config exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000/config.yaml --mt_model_file exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000/valid.acc.ave.pth --output_dir exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000/decode_ctc0.3_asr_model_valid.acc.ave/test/logdir/output.2 --config conf/decode_ctc0.3.yaml ) 2>> exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000/decode_ctc0.3_asr_model_valid.acc.ave/test/logdir/asr_inference.2.log >> exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000/decode_ctc0.3_asr_model_valid.acc.ave/test/logdir/asr_inference.2.log
bash: line 1: 667595 Killed                  ( python3 -m espnet2.bin.mt_inference --batch_size 1 --ngpu 0 --data_path_and_name_and_type dump/raw/test/text.rm.wavlm_large_21_km2000,src_text,text --key_file exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000/decode_ctc0.3_asr_model_valid.acc.ave/test/logdir/keys.1.scp --mt_train_config exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000/config.yaml --mt_model_file exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000/valid.acc.ave.pth --output_dir exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000/decode_ctc0.3_asr_model_valid.acc.ave/test/logdir/output.1 --config conf/decode_ctc0.3.yaml ) 2>> exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000/decode_ctc0.3_asr_model_valid.acc.ave/test/logdir/asr_inference.1.log >> exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000/decode_ctc0.3_asr_model_valid.acc.ave/test/logdir/asr_inference.1.log
bash: line 1: 667600 Killed                  ( python3 -m espnet2.bin.mt_inference --batch_size 1 --ngpu 0 --data_path_and_name_and_type dump/raw/test/text.rm.wavlm_large_21_km2000,src_text,text --key_file exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000/decode_ctc0.3_asr_model_valid.acc.ave/test/logdir/keys.8.scp --mt_train_config exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000/config.yaml --mt_model_file exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000/valid.acc.ave.pth --output_dir exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000/decode_ctc0.3_asr_model_valid.acc.ave/test/logdir/output.8 --config conf/decode_ctc0.3.yaml ) 2>> exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000/decode_ctc0.3_asr_model_valid.acc.ave/test/logdir/asr_inference.8.log >> exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000/decode_ctc0.3_asr_model_valid.acc.ave/test/logdir/asr_inference.8.log
2024-10-18T01:04:50 (asr2.sh:288:main) ./asr2.sh --stage 14 --stop_stage 14 --gpu_kmeans true --kmeans_opts --batch_bins 400000 --nj 4 --kmeans_feature wavlm_large/21 --nclusters 2000 --ngpu 1 --src_lang wavlm_large_21_km2000 --tgt_lang en --src_token_type bpe --src_nbpe 6000 --tgt_token_type bpe --tgt_nbpe 5000 --src_case rm --tgt_case ts --use_lm false --asr_config conf/train_discrete_asr_e_branchformer1_1gpu.yaml --inference_config conf/decode_ctc0.3.yaml --train_set train --valid_set dev --test_sets test --src_bpe_train_text dump/raw/train/text.rm.wavlm_large_21_km2000 --tgt_bpe_train_text dump/raw/train/text.ts.en --lm_train_text dump/raw/train/text.ts.en
2024-10-18T01:04:50 (asr2.sh:625:main) Skipped stages:  8 9 10 11 16 17 
2024-10-18T01:04:50 (asr2.sh:1542:main) Stage 14: Decoding: training_dir=exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000
2024-10-18T01:04:50 (asr2.sh:1570:main) Generate 'exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000/decode_ctc0.3_asr_model_valid.acc.ave/run.sh'. You can resume the process from stage 14 using this script
2024-10-18T01:04:50 (asr2.sh:1601:main) Decoding started... log: 'exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000/decode_ctc0.3_asr_model_valid.acc.ave/test/logdir/asr_inference.*.log'
bash: line 1: 742603 Killed                  ( python3 -m espnet2.bin.mt_inference --batch_size 1 --ngpu 0 --data_path_and_name_and_type dump/raw/test/text.rm.wavlm_large_21_km2000,src_text,text --key_file exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000/decode_ctc0.3_asr_model_valid.acc.ave/test/logdir/keys.1.scp --mt_train_config exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000/config.yaml --mt_model_file exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000/valid.acc.ave.pth --output_dir exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000/decode_ctc0.3_asr_model_valid.acc.ave/test/logdir/output.1 --config conf/decode_ctc0.3.yaml ) 2>> exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000/decode_ctc0.3_asr_model_valid.acc.ave/test/logdir/asr_inference.1.log >> exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000/decode_ctc0.3_asr_model_valid.acc.ave/test/logdir/asr_inference.1.log
bash: line 1: 742601 Killed                  ( python3 -m espnet2.bin.mt_inference --batch_size 1 --ngpu 0 --data_path_and_name_and_type dump/raw/test/text.rm.wavlm_large_21_km2000,src_text,text --key_file exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000/decode_ctc0.3_asr_model_valid.acc.ave/test/logdir/keys.2.scp --mt_train_config exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000/config.yaml --mt_model_file exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000/valid.acc.ave.pth --output_dir exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000/decode_ctc0.3_asr_model_valid.acc.ave/test/logdir/output.2 --config conf/decode_ctc0.3.yaml ) 2>> exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000/decode_ctc0.3_asr_model_valid.acc.ave/test/logdir/asr_inference.2.log >> exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000/decode_ctc0.3_asr_model_valid.acc.ave/test/logdir/asr_inference.2.log
bash: line 1: 742600 Killed                  ( python3 -m espnet2.bin.mt_inference --batch_size 1 --ngpu 0 --data_path_and_name_and_type dump/raw/test/text.rm.wavlm_large_21_km2000,src_text,text --key_file exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000/decode_ctc0.3_asr_model_valid.acc.ave/test/logdir/keys.3.scp --mt_train_config exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000/config.yaml --mt_model_file exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000/valid.acc.ave.pth --output_dir exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000/decode_ctc0.3_asr_model_valid.acc.ave/test/logdir/output.3 --config conf/decode_ctc0.3.yaml ) 2>> exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000/decode_ctc0.3_asr_model_valid.acc.ave/test/logdir/asr_inference.3.log >> exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000/decode_ctc0.3_asr_model_valid.acc.ave/test/logdir/asr_inference.3.log
bash: line 1: 742607 Killed                  ( python3 -m espnet2.bin.mt_inference --batch_size 1 --ngpu 0 --data_path_and_name_and_type dump/raw/test/text.rm.wavlm_large_21_km2000,src_text,text --key_file exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000/decode_ctc0.3_asr_model_valid.acc.ave/test/logdir/keys.6.scp --mt_train_config exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000/config.yaml --mt_model_file exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000/valid.acc.ave.pth --output_dir exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000/decode_ctc0.3_asr_model_valid.acc.ave/test/logdir/output.6 --config conf/decode_ctc0.3.yaml ) 2>> exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000/decode_ctc0.3_asr_model_valid.acc.ave/test/logdir/asr_inference.6.log >> exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000/decode_ctc0.3_asr_model_valid.acc.ave/test/logdir/asr_inference.6.log
2024-10-18T04:54:03 (asr2.sh:288:main) ./asr2.sh --stage 14 --stop_stage 14 --gpu_kmeans true --kmeans_opts --batch_bins 400000 --nj 4 --kmeans_feature wavlm_large/21 --nclusters 2000 --ngpu 1 --src_lang wavlm_large_21_km2000 --tgt_lang en --src_token_type bpe --src_nbpe 6000 --tgt_token_type bpe --tgt_nbpe 5000 --src_case rm --tgt_case ts --use_lm false --asr_config conf/train_discrete_asr_e_branchformer1_1gpu.yaml --inference_config conf/decode_ctc0.3.yaml --train_set train --valid_set dev --test_sets test --src_bpe_train_text dump/raw/train/text.rm.wavlm_large_21_km2000 --tgt_bpe_train_text dump/raw/train/text.ts.en --lm_train_text dump/raw/train/text.ts.en
2024-10-18T04:54:03 (asr2.sh:625:main) Skipped stages:  8 9 10 11 16 17 
2024-10-18T04:54:03 (asr2.sh:1542:main) Stage 14: Decoding: training_dir=exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000
2024-10-18T04:54:03 (asr2.sh:1570:main) Generate 'exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000/decode_ctc0.3_asr_model_valid.acc.ave/run.sh'. You can resume the process from stage 14 using this script
2024-10-18T04:54:03 (asr2.sh:1601:main) Decoding started... log: 'exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000/decode_ctc0.3_asr_model_valid.acc.ave/test/logdir/asr_inference.*.log'
bash: line 1: 742604 Killed                  ( python3 -m espnet2.bin.mt_inference --batch_size 1 --ngpu 0 --data_path_and_name_and_type dump/raw/test/text.rm.wavlm_large_21_km2000,src_text,text --key_file exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000/decode_ctc0.3_asr_model_valid.acc.ave/test/logdir/keys.8.scp --mt_train_config exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000/config.yaml --mt_model_file exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000/valid.acc.ave.pth --output_dir exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000/decode_ctc0.3_asr_model_valid.acc.ave/test/logdir/output.8 --config conf/decode_ctc0.3.yaml ) 2>> exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000/decode_ctc0.3_asr_model_valid.acc.ave/test/logdir/asr_inference.8.log >> exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000/decode_ctc0.3_asr_model_valid.acc.ave/test/logdir/asr_inference.8.log
bash: line 1: 742602 Killed                  ( python3 -m espnet2.bin.mt_inference --batch_size 1 --ngpu 0 --data_path_and_name_and_type dump/raw/test/text.rm.wavlm_large_21_km2000,src_text,text --key_file exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000/decode_ctc0.3_asr_model_valid.acc.ave/test/logdir/keys.7.scp --mt_train_config exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000/config.yaml --mt_model_file exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000/valid.acc.ave.pth --output_dir exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000/decode_ctc0.3_asr_model_valid.acc.ave/test/logdir/output.7 --config conf/decode_ctc0.3.yaml ) 2>> exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000/decode_ctc0.3_asr_model_valid.acc.ave/test/logdir/asr_inference.7.log >> exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000/decode_ctc0.3_asr_model_valid.acc.ave/test/logdir/asr_inference.7.log
bash: line 1: 799817 Killed                  ( python3 -m espnet2.bin.mt_inference --batch_size 1 --ngpu 0 --data_path_and_name_and_type dump/raw/test/text.rm.wavlm_large_21_km2000,src_text,text --key_file exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000/decode_ctc0.3_asr_model_valid.acc.ave/test/logdir/keys.1.scp --mt_train_config exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000/config.yaml --mt_model_file exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000/valid.acc.ave.pth --output_dir exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000/decode_ctc0.3_asr_model_valid.acc.ave/test/logdir/output.1 --config conf/decode_ctc0.3.yaml ) 2>> exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000/decode_ctc0.3_asr_model_valid.acc.ave/test/logdir/asr_inference.1.log >> exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000/decode_ctc0.3_asr_model_valid.acc.ave/test/logdir/asr_inference.1.log
bash: line 1: 799821 Killed                  ( python3 -m espnet2.bin.mt_inference --batch_size 1 --ngpu 0 --data_path_and_name_and_type dump/raw/test/text.rm.wavlm_large_21_km2000,src_text,text --key_file exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000/decode_ctc0.3_asr_model_valid.acc.ave/test/logdir/keys.2.scp --mt_train_config exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000/config.yaml --mt_model_file exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000/valid.acc.ave.pth --output_dir exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000/decode_ctc0.3_asr_model_valid.acc.ave/test/logdir/output.2 --config conf/decode_ctc0.3.yaml ) 2>> exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000/decode_ctc0.3_asr_model_valid.acc.ave/test/logdir/asr_inference.2.log >> exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000/decode_ctc0.3_asr_model_valid.acc.ave/test/logdir/asr_inference.2.log
bash: line 1: 799816 Killed                  ( python3 -m espnet2.bin.mt_inference --batch_size 1 --ngpu 0 --data_path_and_name_and_type dump/raw/test/text.rm.wavlm_large_21_km2000,src_text,text --key_file exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000/decode_ctc0.3_asr_model_valid.acc.ave/test/logdir/keys.3.scp --mt_train_config exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000/config.yaml --mt_model_file exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000/valid.acc.ave.pth --output_dir exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000/decode_ctc0.3_asr_model_valid.acc.ave/test/logdir/output.3 --config conf/decode_ctc0.3.yaml ) 2>> exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000/decode_ctc0.3_asr_model_valid.acc.ave/test/logdir/asr_inference.3.log >> exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000/decode_ctc0.3_asr_model_valid.acc.ave/test/logdir/asr_inference.3.log
bash: line 1: 799822 Killed                  ( python3 -m espnet2.bin.mt_inference --batch_size 1 --ngpu 0 --data_path_and_name_and_type dump/raw/test/text.rm.wavlm_large_21_km2000,src_text,text --key_file exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000/decode_ctc0.3_asr_model_valid.acc.ave/test/logdir/keys.6.scp --mt_train_config exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000/config.yaml --mt_model_file exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000/valid.acc.ave.pth --output_dir exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000/decode_ctc0.3_asr_model_valid.acc.ave/test/logdir/output.6 --config conf/decode_ctc0.3.yaml ) 2>> exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000/decode_ctc0.3_asr_model_valid.acc.ave/test/logdir/asr_inference.6.log >> exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000/decode_ctc0.3_asr_model_valid.acc.ave/test/logdir/asr_inference.6.log
run.pl: 6 / 8 failed, log is in exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000/decode_ctc0.3_asr_model_valid.acc.ave/test/logdir/asr_inference.*.log
cat: -: Bad file descriptor
run.pl: 4 / 8 failed, log is in exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000/decode_ctc0.3_asr_model_valid.acc.ave/test/logdir/asr_inference.*.log
cat: -: Bad file descriptor
2024-10-18T16:48:32 (asr2.sh:288:main) ./asr2.sh --stage 14 --stop_stage 14 --gpu_kmeans true --kmeans_opts --batch_bins 400000 --nj 4 --kmeans_feature wavlm_large/21 --nclusters 2000 --ngpu 1 --src_lang wavlm_large_21_km2000 --tgt_lang en --src_token_type bpe --src_nbpe 6000 --tgt_token_type bpe --tgt_nbpe 5000 --src_case rm --tgt_case ts --use_lm false --asr_config conf/train_discrete_asr_e_branchformer1_1gpu.yaml --inference_config conf/decode_ctc0.3.yaml --train_set train --valid_set dev --test_sets test --src_bpe_train_text dump/raw/train/text.rm.wavlm_large_21_km2000 --tgt_bpe_train_text dump/raw/train/text.ts.en --lm_train_text dump/raw/train/text.ts.en
2024-10-18T16:48:33 (asr2.sh:625:main) Skipped stages:  8 9 10 11 16 17 
2024-10-18T16:48:33 (asr2.sh:1542:main) Stage 14: Decoding: training_dir=exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000
2024-10-18T16:48:33 (asr2.sh:1570:main) Generate 'exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000/decode_ctc0.3_asr_model_valid.acc.ave/run.sh'. You can resume the process from stage 14 using this script
2024-10-18T16:48:33 (asr2.sh:1601:main) Decoding started... log: 'exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000/decode_ctc0.3_asr_model_valid.acc.ave/test/logdir/asr_inference.*.log'
bash: line 1: 1403798 Killed                  ( python3 -m espnet2.bin.mt_inference --batch_size 1 --ngpu 0 --data_path_and_name_and_type dump/raw/test/text.rm.wavlm_large_21_km2000,src_text,text --key_file exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000/decode_ctc0.3_asr_model_valid.acc.ave/test/logdir/keys.1.scp --mt_train_config exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000/config.yaml --mt_model_file exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000/valid.acc.ave.pth --output_dir exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000/decode_ctc0.3_asr_model_valid.acc.ave/test/logdir/output.1 --config conf/decode_ctc0.3.yaml ) 2>> exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000/decode_ctc0.3_asr_model_valid.acc.ave/test/logdir/asr_inference.1.log >> exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000/decode_ctc0.3_asr_model_valid.acc.ave/test/logdir/asr_inference.1.log
run.pl: 1 / 4 failed, log is in exp/asr_train_discrete_asr_e_branchformer1_1gpu_raw_wavlm_large_21_km2000_bpe_rm6000_bpe_ts5000/decode_ctc0.3_asr_model_valid.acc.ave/test/logdir/asr_inference.*.log
cat: -: Bad file descriptor
